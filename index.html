<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>WIBBA - Connect & Vibe</title>
  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
</head>

<body>

  <!-- Auth Screen -->
  <div id="authScreen" class="auth-screen">
    <div class="auth-left">
      <h1>WIBBA</h1>
      <p>Connect with vibes, not just people.</p>
    </div>
    <div class="auth-right">
      <div class="auth-box">
        <h2 id="authTitle">Create Account</h2>
        <input type="text" id="authName" placeholder="Full Name" />
        <input type="email" id="authEmail" placeholder="Email" required />
        <input type="password" id="authPass" placeholder="Password" required />
        <button id="authBtn">Sign Up</button>
        <p id="authSwitchText">Already have an account? <span onclick="toggleAuth()" class="switch-link">Login</span>
        </p>
      </div>
    </div>
  </div>

  <!-- Main App -->
  <div id="app" class="hidden">
    <!-- NAVBAR -->
    <div class="navbar">
      <div class="logo" onclick="showPage('home')">WIBBA</div>

      <!-- Desktop Links -->
      <div class="nav-right desktop-nav">
        <a href="#" onclick="showPage('home')">Home</a>
        <a href="#" onclick="showPage('dashboard')">Dashboard</a>
        <a href="#" onclick="showPage('profile')">Profile</a>
        <a href="#" onclick="showPage('settings')">Settings</a>
        <a href="#" onclick="logout()">Logout</a>
      </div>
        <span>
          <div class="theme-toggle" onclick="toggleTheme()" title="Toggle Theme">
            <i class="bi bi-sun-fill" id="themeIcon"></i>
          </div>
        </span>

      <!-- Mobile Menu Button -->
      <div class="mobile-menu-btn" onclick="toggleMobileMenu()">
        <img src="https://img.icons8.com/material-rounded/24/667eea/menu--v1.png" alt="menu">
      </div>

      <!-- Mobile Dropdown Menu (Hidden by default) -->
      <div class="mobile-dropdown hidden" id="mobileDropdown">
        <div class="dropdown-user">
          <img src="" id="mobileAvatar" class="avatar" alt="avatar">
          <div>
            <strong id="mobileName"></strong>
            <small>@<span id="mobileEmail"></span></small>
          </div>
        </div>
        <div class="dropdown-divider"></div>
        <a href="#" onclick="showPage('home'); toggleMobileMenu()">Home</a>
        <a href="#" onclick="showPage('dashboard'); toggleMobileMenu()">My Posts</a>
        <a href="#" onclick="showPage('profile'); toggleMobileMenu()">Edit Profile</a>
        <a href="#" onclick="showPage('settings'); toggleMobileMenu()">Account Settings</a>
        <div class="dropdown-divider"></div>
        <a href="#" onclick="logout()" class="logout-link">Logout</a>
      </div>
    </div>

    <!-- Home Feed -->
    <div id="homePage" class="page">
      <div class="container">
        <div class="feed-controls card">
          <div class="control-group">
            <i class="bi bi-search"></i>
            <input type="text" id="searchInput" placeholder="Search posts..." onkeyup="renderFeed()" />
          </div>
          <select id="sortSelect" onchange="renderFeed()">
            <option value="latest">Latest First</option>
            <option value="oldest">Oldest First</option>
            <option value="mostLiked">Most Liked</option>
          </select>
        </div>
        <div id="feed"></div>
      </div>
    </div>

    <!-- Dashboard -->
    <div id="dashboardPage" class="page hidden">
      <div class="container dashboard-grid">
        <div class="profile-card">
          <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=default" id="dashAvatar" class="avatar-lg">
          <h3 id="dashName">User</h3>
          <p id="dashBio">Hey! I'm using WIBBA.</p>
          <div class="stats">
            <div><strong id="postCount">0</strong> Posts</div>
            <div><strong id="followerCount">0</strong> Followers</div>
            <div><strong id="followingCount">0</strong> Following</div>
          </div>
        </div>

        <div class="create-post-card">
          <h3 id="formTitle">What's on your mind today?</h3>
          <textarea id="postText" placeholder="Write your post..." rows="5"></textarea>
          <input type="url" id="postImage" placeholder="Image URL (optional)" />
          <div class="form-actions">
            <button id="mainPostBtn" onclick="createPost()" class="post-btn">Post</button>
            <button id="updatePostBtn" onclick="savePostEdit()" class="post-btn hidden">Update Post</button>
            <button id="cancelEditBtn" onclick="cancelEdit()" class="cancel-btn hidden">Cancel</button>
          </div>
        </div>

        <div class="my-posts">
          <h3>My Posts</h3>
          <div id="myPosts"></div>
        </div>
      </div>
    </div>

    <!-- View Other User Profile -->
    <div id="userProfilePage" class="page hidden">
      <div class="profile-header">
        <img id="viewAvatar" src="" class="avatar-xl">
        <h1 id="viewName">User</h1>
        <p id="viewBio">No bio yet.</p>
        <button id="followBtn" onclick="toggleFollow()">Follow</button>
        <div class="stats">
          <div><strong id="viewPosts">0</strong><br>Posts</div>
          <div><strong id="viewFollowers">0</strong><br>Followers</div>
          <div><strong id="viewFollowing">0</strong><br>Following</div>
        </div>
      </div>
    </div>

    <!-- My Profile -->
    <div id="profilePage" class="page hidden">
      <div class="profile-header">
        <img id="profileAvatar" class="avatar-xl">
        <h1 id="profileName">User</h1>
        <p id="profileBio">Hey! I'm using WIBBA.</p>
        <div class="stats">
          <div><strong id="profilePosts">0</strong><br>Posts</div>
          <div><strong id="profileFollowers">0</strong><br>Followers</div>
          <div><strong id="profileFollowing">0</strong><br>Following</div>
        </div>
      </div>
      <div class="edit-profile-form">
        <input type="text" id="editName" placeholder="Your Name" />
        <input type="url" id="editAvatar" placeholder="Avatar Image URL" />
        <textarea id="editBio" placeholder="Your Bio"></textarea>
        <button onclick="saveProfile()">Save Profile</button>
      </div>
    </div>

    <!-- Settings -->
    <div id="settingsPage" class="page hidden">
      <div class="container">
        <div class="settings-card">
          <div class="settings-header">
            <h2>Settings</h2>
            <p>Manage your account</p>
          </div>
          <div class="setting-item">
            <label>Name</label>
            <input type="text" id="newName" placeholder="New name" />
          </div>
          <div class="setting-item">
            <label>Password</label>
            <input type="password" id="newPass" placeholder="New password" />
          </div>
          <div class="setting-actions">
            <button onclick="updateAccount()" class="save-btn">Save Changes</button>
            <button onclick="showPage('home')" class="cancel-btn">Back</button>
          </div>
        </div>
      </div>
    </div>



    <script src="app.js"></script>
</body>

</html>